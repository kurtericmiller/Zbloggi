
/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;


DROP TABLE IF EXISTS `articles`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `articles` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) NOT NULL,
  `published` tinyint(1) NOT NULL DEFAULT '0',
  `read_count` int(11) NOT NULL DEFAULT '0',
  `article_title` varchar(150) NOT NULL,
  `article_text` text NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=37 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;


LOCK TABLES `articles` WRITE;
/*!40000 ALTER TABLE `articles` DISABLE KEYS */;
INSERT INTO `articles` VALUES (33,14,1,225,'Zend FlashMessenger Namespacing Page with Multiple Forms','<p><img style=\"float: left; margin: 10px;\" src=\"http://framework.zend.com/images/logo_small.gif\" alt=\"Zend, baby!\" width=\"123\" height=\"23\" />I ran into the situation where I had two forms on a page, each of which needed to have some FlashMessenger feedback. Unfortunately, even though I changed each of the view variable names to use for assigning the messages to, each of them made the same call to the getMessages() method so whatever message was in queue would display in both places.</p>\r\n<p>Not what I was looking for. But don\'t despair, FlashMessenger namespacing comes to the rescue.</p>\r\n<p><!--more--></p>\r\n<p>In my controller I previously used the following:</p>\r\n<pre class=\"brush: php\">$this-&gt;_helper-&gt;getHelper(\'FlashMessenger\')-&gt;addMessage(\'Some message.\');</pre>\r\n<p>and then sent it to the view thusly:</p>\r\n<pre class=\"brush: php\">$this-&gt;view-&gt;messages = $this-&gt;_helper-&gt;getHelper(\'FlashMessenger\')-&gt;getMessages();</pre>\r\n<p>Partitioning the messages into their own namespace turns out to be ridiculously easy.</p>\r\n<pre class=\"brush: php\">$flasher = $this-&gt;_helper-&gt;getHelper(\'FlashMessenger\');\r\n$flasher-&gt;setNameSpace(\'config\');\r\n$flasher-&gt;addMessage(\'Some message.\');</pre>\r\n<p>and</p>\r\n<pre class=\"brush: php\">$this-&gt;view-&gt;messages = $flasher-&gt;getMessages();</pre>\r\n<p>Short and sweet.</p>','2012-03-09 20:28:33','2012-03-19 18:48:07'),(35,14,1,78,'And So It Begins','<p><a title=\"Your Moment of Zend\" href=\"/images/uploads/zendgarden.jpg\"><img style=\"float: left; margin: 7px;\" src=\"/images/uploads/zendgardenSM.jpg\" alt=\"Your Moment of Zend\" /></a></p>\r\n<h3><em>\"What is this \'moment of Zend\' of which you speak?\"</em></h3>\r\n<p>I\'m glad you asked.</p>\r\n<p>Hi, I\'m User1, one of the co-conspirators bringing you YMOZ. Since this is my maiden post I\'ll try to be gentle and not end up sending you screaming for your mama with vows of complete Zend abstinence spilling from you lips.</p>\r\n<p>Yeah, that\'s right, it\'s not one of those Zend sites where all is praise and drooling sycophancy over the merits and virtues of the <a title=\"Zend Framework\" href=\"http://framework.zend.com/\" target=\"_blank\">Zend Framework</a> and why all roads begin, end and circumambulate at the PHP Mecca that is ZF. No, not one of those sites at all.</p><p><!--more--></p><p>Don\'t get me wrong, this entire site was built using ZF. And while the site has perhaps&nbsp;more than it\'s fair share of wonkiness that can hardly be laid at the feet of the ZF team. No, the PHP programming world is much better off with it than without it. But it\'s definitely a two-edged sword, like a fine piece of equipment you bring home from the hardware store that has \"some assembly required\" only to find out the instructions are in Swazi. Powerful, yes, but not without its warts and unprotected sharp edges. \'Caveat scriptor\' as the bard always says.</p>\r\n<p>Which brings us back to \'Your Moment of Zend,\' a site we hope will give you a chance to learn, comment, vent, contribute and generally become more enlightened regarding that 500 pound gorilla browbeating the other simians in the PHP pool.</p>\r\n<p>So, I\'ll take you gently on the nickle tour and talk about what YMOZ is, what you can expect and where we hope to be headed if things go well. (I know, that\'s why I said \'hope\'.)</p>\r\n<h3>That YMOZ thingy</h3>\r\n<p>YMOZ is actually several things at once: a blog (hopefully obviously) first and foremost, but to us it\'s also a calling card, a proof of concept, a marketing device, a sandbox, a workshop, a place to give back to the community and various and sundry other things that I\'ll refrain from boring you with. Just let it be said that its purpose is manifold.</p>\r\n<p>Pretty ambitious for a venue (blogs) that\'s supposed to be dead, eh?</p>\r\n<h3>Setting Expectations</h3>\r\n<p>That\'s what it is to us. What you can expect of YMOZ, hopefully, is a place where you can share your love/hate relationship with the platform we\'ve all come to know and love, Zend Framework. We\'ll be posting rants (when deemed justified,) insights that we\'ve picked up putting this beasty together, links to other helpful sites and articles, and other germane items that strike our fancy as time permits.</p>\r\n<p>You have to register to comment but it\'s fairly painless (and besides, we needed to show we knew how to do the \'captcha\' thing, as vilified as the practice is, and to get an email response process working.) Comments are moderated at this point but we\'ve got Akismet turned up pretty high so that could change in a heartbeat. If you\'d like to submit articles or become an author just let us know. No&nbsp;guarantees&nbsp;but if it\'s just us the output will be pretty meager so contributors are welcome.</p>\r\n<h3>Welcome To The Future (now go home)</h3>\r\n<p>THE SITE WILL CHANGE! YMOZ is not for the faint of heart. Things will get added, other things will go away, links will magically appear while pages will mysteriously disappear. This is a working site so don\'t get too comfy. And if shit breaks hopefully it won\'t be the contact form and you can send us nasty-grams.</p>\r\n<p>The future will bring things like the site code being available on <a title=\"github\" href=\"https://github.com/kurtericmiller\" target=\"_blank\">github.com</a>. Not sure when but it should be soon and we\'ll let you know when it is. Then you can really plow into us. Fun, neh?</p>\r\n<p>As the more observant amongst you will have noticed the site can generously be described as being unencumbered with an overabundance of JavaScript. That\'s a direct result of the good old design paradigm of HTML, CSS, JavaScript, in that order. The first two are fairly well covered while the latter is on a back burner but it\'s creeping up even as you read this.</p>\r\n<p>And not to be left in the digital dust, design ruminations on how to make the site available in the mobile realm are already stirring in our febrile minds.</p>\r\n<h3>This Way To See The Mighty Egress</h3>\r\n<p>Meanwhile, click around, read a good book (available on our handy <a title=\"Store\" href=\"/store\">Store</a> page,) and let us know what you think.</p>','2012-03-09 20:25:33','2012-03-19 18:48:07'),(36,14,1,59,'Zend Bootstrap PhpUnit Testing Errors','<p><a title=\"Sisyphus\" href=\"http://en.wikipedia.org/wiki/Sisyphus\" target=\"_blank\"><img style=\"float: left;\" src=\"/images/uploads/sysiphus.png\" alt=\"Sisyphus Ahead\" /></a></p>\r\n<h3>An Uphill Battle</h3>\r\n<p>Granted, I\'m new to Zend Framework, PHP and PHPUnit but, really, does it have to be such a grind to discover the solutions to what seem like fundamental problems? If you\'ve encountered similar problems and know of slicker solutions please don\'t hesitate to comment. I can always use the help.</p>\r\n<p>In my case it was missing default routes and the bootstrap parameter not getting set in the front controller, both, I suspect, artifacts from <span style=\"font-family: monospace;\">$aplication-&gt;bootstrap()-&gt;run()</span> not being run but that\'s just a guess on my part. More informed opinions are welcome.</p>\r\n<p>Read on for information on how we got around these annoying errors.</p>\r\n<p><!--more--></p>\r\n<h3>No Bootstrap? How Can It Be?</h3>\r\n<p>This one was a real head-scratcher. The test was for a controller plugin that made the following call:</p>\r\n<pre>$front = Zend_Controller_Front::getInstance();<br />$layout = $front-&gt;getParam(\'bootstrap\')-&gt;getResource(\'layout\');</pre>\r\n<p>When the test runs it completely craps out with \"Fatal error: Call to a member function getResource() on a non-object in ...\" and points right to the $layout assignment above. It took a considerable amount of sleuthage to determine the problem was that, in fact, the frontcontroller\'s \'bootstrap\' parameter was not being set at any time during the test run. What?</p>\r\n<p>To me this was like telling a 4-year-old that Santa Claus was a complete fabrication, a mere fantasy, a phantasm, a pernicious plot perpetrated by parents to practice mind control on 4-year-olds. Disturbing, to say the least. I thought that \'bootstrap\' was intrinsic to the frontcontroller. Not in the least as it turns out.</p>\r\n<p>To cut to the chase, I ended up adding it manually in the setUp() function.</p>\r\n<pre class=\"brush: php\">    public function setUp()\r\n    {\r\n        $this-&gt;bootstrap = new Zend_Application(\r\n            APPLICATION_ENV, \r\n            APPLICATION_PATH . \'/configs/application.ini\');\r\n        parent::setUp();\r\n        $frontController = $this-&gt;getFrontController();\r\n        $frontController\r\n            -&gt;setParam(\'bootstrap\', $this\r\n            -&gt;bootstrap\r\n            -&gt;getBootstrap());\r\n    }\r\n</pre>\r\n<p>(You\'ll notice no callback function in the $this-&gt;boostrap assignment, a la the <a title=\"Zend Framework Testing Documentation\" href=\"http://framework.zend.com/manual/en/zend.test.phpunit.html\" target=\"_blank\">Zend Framework documentation</a>. I think that unless you have something specific you want to accomplish you should just keep it simple and the above seems pretty straight forward.)</p>\r\n<p>This did the trick but if you know of a more elegant solution please leave it in the comments.</p>\r\n<h3>Those Pesky Missing Default Routes</h3>\r\n<p>Something that might catch you unawares (it certainly did me) is the fact that default routes don\'t seem to load in the normal course of PHPUnit testing. I started receiving the following error and had a really enlightening time figuring out what the hell was going on:</p>\r\n<ul>\r\n<li>\"Zend_Controller_Router_Exception: Route default is not defined\"</li>\r\n</ul>\r\n<p>No default routes getting loaded? Yet another precious preconceived notion getting smashed upon the cruel rocks of empirical data. One more addition to our friendly setUp() method resolved things for me.</p>\r\n<pre class=\"brush: php\">    public function setUp()\r\n    {\r\n        $this-&gt;bootstrap = new Zend_Application(\r\n            APPLICATION_ENV, \r\n            APPLICATION_PATH . \'/configs/application.ini\');\r\n        parent::setUp();\r\n        $frontController = $this-&gt;getFrontController();\r\n        $frontController\r\n            -&gt;setParam(\'bootstrap\', $this\r\n            -&gt;bootstrap\r\n            -&gt;getBootstrap());\r\n        $router = $frontController-&gt;getRouter();\r\n        $router-&gt;addDefaultRoutes();\r\n    }\r\n</pre>\r\n<p>The above is strung out over several lines for clarity\'s sake and of course can be strung into one, long, indecipherable call depending on your needs.</p>\r\n<h3>Is There A Better Way?</h3>\r\n<p>These fixes work for me. Just FYI, as far as I can tell these need to be added after the parent::setup() call. YMMV.</p>\r\n<p>Is there a better way? I\'m sure there is. We\'re talking about PHP 5+ here where there\'s 10 ways to do everything. As I said if you want to pitch in your 2&cent; feel free to do so at length in the comments.</p>','2012-03-11 18:29:06','2012-03-19 18:48:07');
/*!40000 ALTER TABLE `articles` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

